{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"vscode\"","webpack:///./src/util/index.ts","webpack:///./src/api.ts","webpack:///./src/util/fetch.ts","webpack:///./src/util/func.ts","webpack:///./src/util/context.ts","webpack:///./src/commands.ts","webpack:///./src/extension.ts","webpack:///./src/github1sfs.ts","webpack:///./node_modules/json-stable-stringify/index.js","webpack:///./node_modules/jsonify/index.js","webpack:///./node_modules/jsonify/lib/parse.js","webpack:///./node_modules/jsonify/lib/stringify.js","webpack:///./node_modules/p-finally/index.js","webpack:///./src/settings-view.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","fetch","reuseable","throttle","getExtensionContext","setExtensionContext","noop","trimStart","str","chars","index","indexOf","slice","trimEnd","length","joinPath","segments","reduce","prev","segment","id","dirname","path","trimmedPath","substr","lastIndexOf","uniqueId","prop","obj","cur","forEach","undefined","getNonce","text","possible","charAt","Math","floor","random","getWebviewOptions","extensionUri","enableScripts","localResourceRoots","vscode","Uri","parseUri","uri","owner","repo","branch","authority","split","filter","Boolean","handleRequestError","error","RequestRateLimitError","token","FileSystemError","NoPermissions","RequestInvalidTokenError","RequestNotFoundError","FileNotFound","Unavailable","message","readGitHubDirectory","state","replace","catch","readGitHubFile","fileSha","validateToken","authHeaders","Authorization","self","headers","then","response","valid","status","limit","remaining","reset","throttledReportNetworkError","RequestError","Error","super","setPrototypeOf","this","window","showErrorMessage","url","options","context","globalState","getGitHubAuthToken","customHeaders","json","data","defaultComputeCacheKey","args","jsonStableStringify","func","computeCacheKey","cache","Map","has","promise","set","pFinally","delete","interval","timer","setTimeout","extensionContext","_extensionContext","commandValidateToken","silent","oAuthToken","tokenStatus","showInformationMessage","showWarningMessage","commandUpdateToken","showInputBox","placeHolder","update","commands","executeCommand","commandClearToken","modal","choose","subscriptions","push","GitHub1sFS","registerWebviewViewProvider","SettingsView","viewType","registerCommand","File","type","FileType","ctime","Date","now","mtime","sha","size","Directory","entries","_emitter","EventEmitter","root","onDidChangeFile","event","readDirectory","_lookupAsDirectory","parent","res","Array","from","values","map","item","Promise","resolve","tree","fileType","toString","readFile","_lookupAsFile","file","encoder","TextEncoder","blob","encode","atob","content","disposable","Disposable","workspace","registerFileSystemProvider","scheme","isCaseSensitive","isReadonly","dispose","parts","entry","with","part","child","_lookup","FileNotADirectory","FileIsADirectory","_dirname","oldUri","newUri","source","destination","JSON","opts","cmp","space","join","f","cycles","replacer","node","a","b","aobj","bobj","seen","stringify","level","indent","colonSeparator","toJSON","isArray","out","TypeError","keys","objectKeys","sort","keyValue","splice","x","parse","at","ch","escapee","next","number","string","isFinite","hex","uffff","parseInt","String","fromCharCode","white","array","word","reviver","result","walk","holder","k","v","gap","rep","escapable","meta","quote","lastIndex","test","charCodeAt","partial","mind","apply","async","onFinally","webviewView","_webviewView","webview","html","_getHtmlForWebview","onDidReceiveMessage","handleValidateToken","payload","handleUpdateToken","cleared","updateWebviewState","pageType","validating","oauthToken","isValid","postMessage","nonce"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"vscode\");","/**\n * @file common util\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nexport { fetch } from './fetch';\nexport { reuseable, throttle } from './func';\nexport { getExtensionContext, setExtensionContext } from './context';\n\nexport const noop = () => { };\n\nexport const trimStart = (str: string, chars: string = ' '): string => {\n  let index = 0;\n  while (chars.indexOf(str[index]) !== -1) {\n    index++;\n  }\n  return str.slice(index);\n};\n\nexport const trimEnd = (str: string, chars: string = ' '): string => {\n  let length = str.length;\n  while (length && chars.indexOf(str[length - 1]) !== -1) {\n    length--;\n  }\n  return str.slice(0, length);\n};\n\nexport const joinPath = (...segments: string[]): string => {\n  if (!segments.length) {\n    return '';\n  }\n\n  return segments.reduce((prev, segment) => {\n    return trimEnd(prev, '/') + '/' + trimStart(segment, '/');\n  });\n};\n\nexport const dirname = (path: string): string => {\n  const trimmedPath = trimEnd(path, '/');\n  return trimmedPath.substr(0, trimmedPath.lastIndexOf('/')) || '';\n}\n\nexport const uniqueId = (id => () => id++)(1);\n\nexport const prop = (obj: object, path: (string | number)[] = []): any => {\n  let cur = obj;\n  path.forEach(key => (cur = (cur ? cur[key] : undefined)));\n  return cur;\n};\n\nexport const getNonce = (): string => {\n  let text: string = '';\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (let i = 0; i < 32; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n};\n\nexport const getWebviewOptions = (extensionUri: vscode.Uri): vscode.WebviewOptions => {\n\treturn {\n\t\t// Enable javascript in the webview\n\t\tenableScripts: true,\n\t\t// And restrict the webview to only loading content from our extension's `assets` directory.\n\t\tlocalResourceRoots: [vscode.Uri.joinPath(extensionUri, 'assets')]\n\t};\n};\n","/**\n * @file GitHub1s APIs\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { fetch, RequestError, RequestRateLimitError, RequestInvalidTokenError, RequestNotFoundError, throttledReportNetworkError } from './util/fetch';\n\ninterface UriState {\n  owner: string;\n  repo: string;\n  branch: string;\n  path: string;\n};\n\nconst parseUri = (uri: vscode.Uri): UriState => {\n  const [owner, repo, branch] = (uri.authority || '').split('+').filter(Boolean);\n  return {\n    owner,\n    repo,\n    branch,\n    path: uri.path,\n  };\n};\n\nconst handleRequestError = (error: RequestError) => {\n  if (error instanceof RequestRateLimitError) {\n    if (!error.token) {\n      throw vscode.FileSystemError.NoPermissions('API Rate Limit Exceeded, Please Offer an OAuth Token.');\n    }\n    throw vscode.FileSystemError.NoPermissions('API Rate Limit Exceeded, Please Change Another OAuth Token.');\n  }\n  if (error instanceof RequestInvalidTokenError) {\n    throw vscode.FileSystemError.NoPermissions('Current OAuth Token Is Invalid, Please Change Another One.');\n  }\n  if (error instanceof RequestNotFoundError) {\n    throw vscode.FileSystemError.NoPermissions('Current OAuth Token Is Invalid, Please Change Another One.');\n  }\n  if (error instanceof RequestNotFoundError) {\n    throw vscode.FileSystemError.FileNotFound('GitHub Resource Not Found');\n  }\n  throw vscode.FileSystemError.Unavailable(error.message || 'Unknown Error Occurred When Request To GitHub');\n};\n\nexport const readGitHubDirectory = (uri: vscode.Uri) => {\n  const state: UriState = parseUri(uri);\n  return fetch(`https://api.github.com/repos/${state.owner}/${state.repo}/git/trees/${state.branch}${state.path.replace(/^\\//, ':')}`)\n    .catch(handleRequestError)\n};\n\nexport const readGitHubFile = (uri: vscode.Uri, fileSha: string) => {\n  const state: UriState = parseUri(uri);\n  return fetch(`https://api.github.com/repos/${state.owner}/${state.repo}/git/blobs/${fileSha}`)\n    .catch(handleRequestError);\n};\n\nexport const validateToken = (token: string) => {\n  const authHeaders = token ? { Authorization: `token ${token}` } : {};\n  return self.fetch(`https://api.github.com`, { headers: { ...authHeaders } }).then(response => ({\n    token: !!token, // if the token is not empty\n    valid: response.status !== 401 ? true : false, // if the request is valid\n    limit: +response.headers.get('X-RateLimit-Limit') || 0, // limit count\n    remaining: +response.headers.get('X-RateLimit-Remaining') || 0, // remains request count\n    reset: +response.headers.get('X-RateLimit-Reset') || 0, // reset time\n  })).catch(() => {\n    throttledReportNetworkError();\n    throw new RequestError('Request Failed, Maybe an Network Error', token);\n  });\n};\n","/**\n * @file github1s fetch api\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { throttle } from './func';\nimport { getExtensionContext } from './context';\n\nconst getGitHubAuthToken = (): string => {\n  const context = getExtensionContext();\n  return context?.globalState.get('github-oauth-token') || '';\n};\n\nexport class RequestError extends Error {\n  constructor(message: string, public token: string) {\n    super(message);\n    if (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestError.prototype);\n\t\t}\n  }\n};\n\nexport class RequestNotFoundError extends RequestError {\n  constructor(message: string, token: string) {\n    super(message, token);\n    if (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestNotFoundError.prototype);\n\t\t}\n  }\n};\n\nexport class RequestRateLimitError extends RequestError {\n  constructor(message: string, token: string) {\n    super(message, token);\n    if (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestRateLimitError.prototype);\n\t\t}\n  }\n};\n\nexport class RequestInvalidTokenError extends RequestError {\n  constructor(message: string, token: string) {\n    super(message, token);\n    if (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestInvalidTokenError.prototype);\n\t\t}RequestInvalidTokenError\n  }\n};\n\n// only report network error once in 5 seconds\nexport const throttledReportNetworkError = throttle(() => vscode.window.showErrorMessage('Request Failed, Maybe an Network Error'), 5000);\n\nexport const fetch = (url: string, options?: RequestInit) => {\n  const token = getGitHubAuthToken();\n  const authHeaders = token ? { Authorization: `token ${token}` } : {};\n  const customHeaders = (options && 'headers' in options ? options.headers : {})\n\n  return self.fetch(url, { mode: 'cors', ...options, headers: { ...authHeaders, ...customHeaders } })\n    .catch(() => {\n      throttledReportNetworkError();\n      throw new RequestError('Request Failed, Maybe an Network Error', token);\n    })\n    .then(response => {\n      if (response.status < 400) {\n        return response.json();\n      }\n      if (response.status === 403) {\n        return response.json().then(data => { throw new RequestRateLimitError(data.message, token); });\n      }\n      if (response.status === 401) {\n        return response.json().then(data => { throw new RequestInvalidTokenError(data.message, token); });\n      }\n      if (response.status === 404) {\n        throw new RequestNotFoundError('Not Found', token);\n      }\n      throw new RequestError(`GitHub1s: Request got HTTP ${response.status} response`, token);\n    });\n};\n","/**\n * @file function utils\n * @author netcon\n */\n\nimport * as jsonStableStringify from 'json-stable-stringify';\nimport * as pFinally from 'p-finally';\n\nconst defaultComputeCacheKey = (...args) => jsonStableStringify([...args]);\n\n// reuse previous promise when a request call\n// and previous request not completed\nexport const reuseable = (func, computeCacheKey = defaultComputeCacheKey) => {\n  const cache = new Map<string, Promise<any>>();\n\n  return function (...args: any[]): Promise<any> {\n    const key = computeCacheKey(...args);\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    const promise = func.call(this, ...args);\n    cache.set(key, promise);\n    return pFinally(promise, () => cache.delete(key));\n  };\n};\n\nexport const throttle = (func: Function, interval: number) => {\n  let timer = null;\n  return function(...args: any[]): any {\n    if (timer) return;\n    func.call(this, ...args);\n    timer = setTimeout(() => (timer = null), interval);\n  }\n};\n","/**\n * @file extension context\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\n\nlet extensionContext: vscode.ExtensionContext | null = null;\n\nexport const setExtensionContext = (_extensionContext: vscode.ExtensionContext) => {\n  extensionContext = _extensionContext;\n};\n\nexport const getExtensionContext = (): vscode.ExtensionContext | null => {\n  return extensionContext;\n};\n","/**\n * @file github1s commands\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { getExtensionContext } from './util';\nimport { validateToken } from './api';\n\nexport const commandValidateToken = (silent: boolean = false) => {\n  const context = getExtensionContext();\n  const oAuthToken = context.globalState.get('github-oauth-token') as string || '';\n  return validateToken(oAuthToken).then(tokenStatus => {\n    if (!silent) {\n      const remaining = tokenStatus.remaining;\n      if (!oAuthToken) {\n        if (remaining > 0) {\n          vscode.window.showWarningMessage(`You haven\\'t set a GitHub OAuth Token yet, and you can have ${remaining} requests in the current rate limit window.`);\n        } else {\n          vscode.window.showWarningMessage('You haven\\'t set a GitHub OAuth Token yet, and the rate limit is exceeded.');\n        }\n      } else if (!tokenStatus.valid) {\n        vscode.window.showErrorMessage('Current GitHub OAuth Token is invalid.');\n      } else if (tokenStatus.valid && tokenStatus.remaining > 0) {\n        vscode.window.showInformationMessage(`Current GitHub OAuth Token is OK, and you can have ${remaining} requests in the current rate limit window.`);\n      } else if (tokenStatus.valid && tokenStatus.remaining <= 0) {\n        vscode.window.showWarningMessage('Current GitHub OAuth Token is Valid, but the rate limit is exceeded.');\n      }\n    }\n    return tokenStatus;\n  });\n};\n\nexport const commandUpdateToken = (silent: boolean = false) => {\n  return vscode.window.showInputBox({\n    placeHolder: 'Please input the GitHub OAuth Token',\n  }).then(token => {\n    if (!token) return;\n    return getExtensionContext()!.globalState.update('github-oauth-token', token || '').then(() => {\n      // we don't need wait validate, so we don't `return`\n      validateToken(token).then(tokenStatus => {\n        if (!silent) {\n          if (!tokenStatus.valid) vscode.window.showErrorMessage('GitHub OAuth Token have updated, but it is invalid.')\n          else if (tokenStatus.remaining <= 0) vscode.window.showWarningMessage('GitHub OAuth Token have updated, but the rate limit is exceeded.');\n          else vscode.window.showInformationMessage('GitHub OAuth Token have updated.');\n        }\n        tokenStatus.valid && tokenStatus.remaining > 0 && vscode.commands.executeCommand('workbench.files.action.refreshFilesExplorer');\n      });\n    });\n  });\n};\n\nexport const commandClearToken = (silent: boolean = false) => {\n  return vscode.window.showWarningMessage('Would you want to clear the saved GitHub OAuth Token?', { modal: true }, 'Confirm').then(choose => {\n    if (choose === 'Confirm') {\n      return getExtensionContext()!.globalState.update('github-oauth-token', '').then(() => {\n        !silent && vscode.window.showInformationMessage('You have cleared the saved GitHb OAuth Token.');\n      }).then(() => true);\n    }\n    return false;\n  });\n};\n","/**\n * @file extension entry\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { GitHub1sFS } from './github1sfs';\nimport { SettingsView } from './settings-view';\nimport { setExtensionContext } from './util';\nimport { commandUpdateToken, commandValidateToken, commandClearToken } from './commands';\n\nexport function activate(context: vscode.ExtensionContext) {\n  setExtensionContext(context);\n  context.subscriptions.push(new GitHub1sFS());\n\n  context.subscriptions.push(vscode.window.registerWebviewViewProvider(SettingsView.viewType, new SettingsView()));\n\n  context.subscriptions.push(vscode.commands.registerCommand('github1s.validate-token', commandValidateToken));\n\tcontext.subscriptions.push(vscode.commands.registerCommand('github1s.update-token', commandUpdateToken));\n\tcontext.subscriptions.push(vscode.commands.registerCommand('github1s.clear-token', commandClearToken));\n};\n","/**\n * @file VSCode GitHub1sFs Provider\n * @author netcon\n */\n\nimport {\n  workspace,\n  Disposable,\n  FileSystemProvider,\n  FileSystemError,\n  Event,\n  EventEmitter,\n  FileChangeEvent,\n  FileStat,\n  FileType,\n  Uri,\n} from 'vscode';\nimport { noop, dirname, reuseable } from './util';\nimport { readGitHubDirectory, readGitHubFile } from './api';\n\nexport class File implements FileStat {\n\ttype: FileType;\n\tctime: number;\n\tmtime: number;\n\tsize: number;\n\tname: string;\n\tsha: string;\n\tdata?: Uint8Array;\n\n\tconstructor(public uri: Uri, name: string, options?: any) {\n\t\tthis.type = FileType.File;\n\t\tthis.ctime = Date.now();\n\t\tthis.mtime = Date.now();\n\t\tthis.name = name;\n\t\tthis.sha = (options && ('sha' in options)) ? options.sha : '';\n\t\tthis.size = (options && ('size' in options)) ? options.size : 0;\n\t\tthis.data = (options && ('data' in options)) ? options.data : null;\n\t}\n}\n\nexport class Directory implements FileStat {\n\ttype: FileType;\n\tctime: number;\n\tmtime: number;\n\tsize: number;\n\tsha: string;\n\tname: string;\n\tentries: Map<string, File | Directory>;\n\n\tconstructor(public uri: Uri, name: string, options?: any) {\n\t\tthis.type = FileType.Directory;\n\t\tthis.ctime = Date.now();\n\t\tthis.mtime = Date.now();\n\t\tthis.size = 0;\n\t\tthis.name = name;\n\t\tthis.entries = null;\n\t\tthis.sha = (options && ('sha' in options)) ? options.sha : '';\n\t\tthis.size = (options && ('size' in options)) ? options.size : 0;\n\t}\n}\n\nexport type Entry = File | Directory;\n\nexport class GitHub1sFS implements FileSystemProvider, Disposable {\n  static scheme = 'github1s';\n  private readonly disposable: Disposable;\n  private _emitter = new EventEmitter<FileChangeEvent[]>();\n  private root: Directory = null;\n\n  onDidChangeFile: Event<FileChangeEvent[]> = this._emitter.event;\n\n  constructor() {\n    this.disposable = Disposable.from(\n\t\t\tworkspace.registerFileSystemProvider(GitHub1sFS.scheme, this, { isCaseSensitive: true, isReadonly: true }),\n\t\t);\n  }\n\n  dispose() {\n    this.disposable?.dispose();\n  }\n\n  // --- lookup\n\tprivate async _lookup(uri: Uri, silent: false): Promise<Entry>;\n\tprivate async _lookup(uri: Uri, silent: boolean): Promise<Entry | undefined>;\n\tprivate async _lookup(uri: Uri, silent: boolean): Promise<Entry | undefined> {\n\t\tlet parts = uri.path.split('/').filter(Boolean);\n\t\tlet entry: Entry = this.root || (this.root = new Directory(uri.with({ path: '/' }), ''));\n\t\tfor (const part of parts) {\n\t\t\tlet child: Entry | undefined;\n\t\t\tif (entry instanceof Directory) {\n\t\t\t\tif (entry.entries === null) {\n\t\t\t\t\tawait this.readDirectory(Uri.joinPath(entry.uri, entry.name));\n\t\t\t\t}\n\t\t\t\tchild = entry.entries.get(part);\n\t\t\t}\n\t\t\tif (!child) {\n\t\t\t\tif (!silent) {\n\t\t\t\t\tthrow FileSystemError.FileNotFound(uri);\n\t\t\t\t} else {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tentry = child;\n\t\t}\n\t\treturn entry;\n\t}\n\n\tprivate async _lookupAsDirectory(uri: Uri, silent: boolean): Promise<Directory> {\n\t\tconst entry = await this._lookup(uri, silent);\n\t\tif (entry instanceof Directory) {\n\t\t\treturn entry;\n\t\t}\n    if (!silent) {\n      throw FileSystemError.FileNotADirectory(uri);\n    }\n\t}\n\n\tprivate async _lookupAsFile(uri: Uri, silent: boolean): Promise<File> {\n\t\tconst entry = await this._lookup(uri, silent);\n\t\tif (entry instanceof File) {\n\t\t\treturn entry;\n\t\t}\n    if (!silent) {\n      throw FileSystemError.FileIsADirectory(uri);\n    }\n\t}\n\n\tprivate _lookupParentDirectory(uri: Uri): Promise<Directory> {\n\t\tconst _dirname = uri.with({ path: dirname(uri.path) });\n\t\treturn this._lookupAsDirectory(_dirname, false);\n\t}\n\n  watch(uri: Uri, options: { recursive: boolean; excludes: string[]; }): Disposable {\n    return new Disposable(noop);\n  }\n\n  stat(uri: Uri): FileStat | Thenable<FileStat> {\n    return this._lookup(uri, false);\n  }\n\n  readDirectory = reuseable((uri: Uri): [string, FileType][] | Thenable<[string, FileType][]> => {\n    if (!uri.authority) throw FileSystemError.FileNotFound(uri);\n\t\treturn this._lookupAsDirectory(uri, false).then(parent => {\n\t\t\tif (parent.entries !== null) {\n\t\t\t\tconst res = Array.from(parent.entries.values())\n\t\t\t\t\t.map((item: any) => [item.name, item instanceof Directory ? FileType.Directory : FileType.File]);\n\t\t\t\treturn Promise.resolve(res);\n\t\t\t}\n\n\t\t\treturn readGitHubDirectory(uri).then(data => {\n\t\t\t\tparent.entries = new Map<string, Entry>();\n\t\t\t\treturn data.tree.map((item: any) => {\n\t\t\t\t\tconst fileType: FileType = item.type === 'tree' ? FileType.Directory : FileType.File;\n\t\t\t\t\tparent.entries.set(\n\t\t\t\t\t\titem.path, fileType === FileType.Directory\n\t\t\t\t\t\t? new Directory(uri, item.path, { sha: item.sha })\n\t\t\t\t\t\t: new File(uri, item.path, { sha: item.sha, size: item.size })\n\t\t\t\t\t);\n\n\t\t\t\t\treturn [item.path, fileType];\n\t\t\t\t});\n\t\t\t});\n\t\t});\n  }, (uri: Uri) => uri.toString());\n\n\treadFile = reuseable((uri: Uri): Uint8Array | Thenable<Uint8Array> => {\n    if (!uri.authority) throw FileSystemError.FileNotFound(uri);\n\t\treturn this._lookupAsFile(uri, false).then(file => {\n\t\t\tif (file.data !== null) {\n\t\t\t\treturn file.data;\n\t\t\t}\n\n\t\t\tconst encoder = new TextEncoder();\n\t\t\treturn readGitHubFile(uri, file.sha).then(blob => {\n\t\t\t\tfile.data = encoder.encode(atob(blob.content));\n\t\t\t\treturn file.data;\n\t\t\t});\n\t\t})\n  }, (uri: Uri) => uri.toString());\n\n  createDirectory(uri: Uri): void | Thenable<void> {\n    return Promise.resolve();\n  }\n\n  writeFile(uri: Uri, content: Uint8Array, options: { create: boolean; overwrite: boolean; }): void | Thenable<void> {\n    return Promise.resolve();\n  }\n\n  delete(uri: Uri, options: { recursive: boolean; }): void | Thenable<void> {\n    return Promise.resolve();\n  }\n\n  rename(oldUri: Uri, newUri: Uri, options: { overwrite: boolean; }): void | Thenable<void> {\n    return Promise.resolve();\n  }\n\n  copy?(source: Uri, destination: Uri, options: { overwrite: boolean; }): void | Thenable<void> {\n    return Promise.resolve();\n  }\n}\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","'use strict';\n\nmodule.exports = async (\n\tpromise,\n\tonFinally = (() => {})\n) => {\n\tlet value;\n\ttry {\n\t\tvalue = await promise;\n\t} catch (error) {\n\t\tawait onFinally();\n\t\tthrow error;\n\t}\n\n\tawait onFinally();\n\treturn value;\n};\n","/**\n * @file GitHub1s Settings Webview Provider\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { getNonce, getExtensionContext, getWebviewOptions } from './util';\nimport { commandClearToken } from './commands';\nimport { validateToken } from './api';\n\ninterface WebviewState {\n  token?: string;\n  pageType?: 'EDIT' | 'PREVIEW';\n  valid?: boolean;\n  validating?: boolean;\n};\n\nexport class SettingsView implements vscode.WebviewViewProvider {\n  public static readonly viewType = 'github1s-settings';\n  private readonly _extensionContext: vscode.ExtensionContext;\n  private _webviewView: vscode.WebviewView;\n\n  constructor() {\n    this._extensionContext = getExtensionContext();\n  }\n\n  resolveWebviewView(\n    webviewView: vscode.WebviewView,\n    context: vscode.WebviewViewResolveContext<unknown>,\n    token: vscode.CancellationToken\n  ): void | Thenable<void> {\n    this._webviewView = webviewView;\n    webviewView.webview.options = getWebviewOptions(this._extensionContext.extensionUri);\n    webviewView.webview.html = this._getHtmlForWebview(webviewView.webview);\n\n    webviewView.webview.onDidReceiveMessage(data => {\n      switch(data.type) {\n        case 'validate-token':\n          this.handleValidateToken(data.payload);\n          break;\n        case 'update-token':\n          this.handleUpdateToken(data.payload);\n          break;\n        case 'clear-token':\n          commandClearToken().then(cleared => {\n            cleared && this.updateWebviewState({token: '', pageType: 'EDIT', valid: false, validating: false });\n          })\n          break;\n        case 'welcome-page':\n          vscode.commands.executeCommand('workbench.action.showWelcomePage');\n          break;\n        default:\n          const oauthToken = this._extensionContext.globalState.get('github-oauth-token') as string|| '';\n          (oauthToken ? validateToken(oauthToken).then(data => (data.valid && data.remaining > 0)) : Promise.resolve(false)).then(isValid => {\n            this.updateWebviewState({ token: oauthToken, pageType: oauthToken ? 'PREVIEW' : 'EDIT', valid: isValid, validating: false });\n          });\n      }\n    });\n  }\n\n  updateWebviewState(state: WebviewState) {\n    this._webviewView.webview.postMessage({ type: 'update-state', payload: state });\n  }\n\n  handleValidateToken(token: string) {\n    this.updateWebviewState({ validating: true });\n    validateToken(token).then(tokenStatus => {\n      if (!tokenStatus.valid) vscode.window.showErrorMessage('This GitHub OAuth Token is invalid.');\n      else if (tokenStatus.remaining <= 0) vscode.window.showWarningMessage('This GitHub OAuth Token is valid, but the rate limit is exceeded.');\n      else vscode.window.showInformationMessage('This GitHub OAuth Token is OK.');\n      this.updateWebviewState({ valid: tokenStatus.valid && tokenStatus.remaining > 0, validating: false });\n    }).catch(() => this.updateWebviewState({ valid: false, validating: false }));\n  }\n\n  handleUpdateToken(token: string) {\n    if (!token) return;\n    this.updateWebviewState({ validating: true });\n    validateToken(token).then(tokenStatus => {\n      if (!tokenStatus.valid) {\n        this.updateWebviewState({ pageType: 'EDIT', validating: false });\n        vscode.window.showErrorMessage('This GitHub OAuth Token is invalid.');\n      } else if (tokenStatus.remaining <= 0) {\n        this.updateWebviewState({ pageType: 'EDIT', validating: false });\n        vscode.window.showWarningMessage('This GitHub OAuth Token is valid, but the rate limit is exceeded.');\n      } else {\n        this.updateWebviewState({ token, valid: true, pageType: 'PREVIEW', validating: false })\n        this._extensionContext.globalState.update('github-oauth-token', token || '').then(() => {\n          vscode.commands.executeCommand('workbench.files.action.refreshFilesExplorer');\n        });\n      }\n    }).catch(() => this.updateWebviewState({ token, validating: false }));\n  }\n\n  _getHtmlForWebview(webview): string {\n    const nonce = getNonce();\n\n    return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'nonce-${nonce}'; script-src 'nonce-${nonce}';\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>GitHub1s Settings</title>\n  <style nonce=\"${nonce}\">\nhtml {\n  box-sizing: border-box;\n  font-size: 13px;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\nbody, h1, h2, h3, h4, h5, h6, p, ol, ul {\n  margin: 0;\n  padding: 0;\n  font-weight: normal;\n}\n\nbody {\n  background-color: transparent;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  height: 24px;\n  border: none;\n  margin-bottom: 10px;\n  padding-left: 4px;\n  padding-right: 4px;\n  font-family: var(--vscode-font-family);\n  color: var(--vscode-input-foreground);\n  outline-color: var(--vscode-input-border);\n  background-color: var(--vscode-input-background);\n}\n\nbutton {\n  border: none;\n  width: 100%;\n  height: 26px;\n  margin-bottom: 10px;\n  padding: var(--input-padding-vertical) var(--input-padding-horizontal);\n  text-align: center;\n  outline: 1px solid transparent;\n  outline-offset: 2px !important;\n  color: var(--vscode-button-foreground);\n  background: var(--vscode-button-background);\n}\n\nbutton:hover {\n  cursor: pointer;\n  background: var(--vscode-button-hoverBackground);\n}\n\nbutton:focus {\n  outline-color: var(--vscode-focusBorder);\n}\n\nbutton.secondary {\n  color: var(--vscode-button-secondaryForeground);\n  background: var(--vscode-button-secondaryBackground);\n}\n\nbutton.secondary:hover {\n  background: var(--vscode-button-secondaryHoverBackground);\n}\n\n.loading-page {\n  width: 50px;\n  height: 40px;\n  margin: 60px auto;\n  text-align: center;\n}\n\n.loading-page span {\n  width: 5px;\n  height: 100%;\n  margin-right: 4px;\n  display: inline-block;\n  background:#2b6298;\n  animation: loading 1.2s infinite ease-in-out;\n  -webkit-animation: loading 1.2s infinite ease-in-out;\n}\n\n.loading-page >span:nth-child(2) {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n.loading-page >span:nth-child(3) {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n.loading-page >span:nth-child(4) {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n\n.loading-page >span:nth-child(5) {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n\n@keyframes loading {\n  0% { transform: scaleY(0.4); }\n  25% { transform: scaleY(1.0); }\n  50% { transform: scaleY(0.4); }\n  75% { transform: scaleY(0.4); }\n  100% { transform: scaleY(0.4); }\n}\n\n.preview-page, .edit-page {\n  display: none;\n}\n\n.container {\n  padding: 10px;\n}\n\n.container .token-invalid {\n  display: none;\n}\n\n.page-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.description {\n  margin-bottom: 10px;\n}\n\n.description div {\n  margin-bottom: 5px;\n}\n\n.description div:last-child {\n  margin-bottom: 0;\n}\n\n.token-link {\n  margin-bottom: 10px;\n}\n  </style>\n</head>\n<body>\n  <div class=\"loading-page\">\n    <span></span><span></span><span></span><span></span><span></span>\n  </div>\n  <div class=\"container edit-page\">\n    <div class=\"page-title\">Set OAuth Token</div>\n    <div class=\"description\">\n      <div>For unauthenticated requests, the rate limit of GitHub allows for up to 60 requests per hour.</div>\n      <div>For API requests using Authentication, you can make up to 5,000 requests per hour.</div>\n    </div>\n    <div class=\"token-link\">\n      <a href=\"https://github.com/settings/tokens/new?scopes=repo&description=GitHub1s\" target=\"_blank\">\n        Generate New OAuth Token\n      </a>\n    </div>\n    <div><input id=\"token-input\" name=\"token\" autocomplete=\"off\" /></div>\n    <div><button id=\"save-button\">Save</button></div>\n    <div><button id=\"preview-button\">Cancel</button></div>\n  </div>\n  <div class=\"container preview-page\">\n    <div class=\"page-title\">You have authenticated</div>\n    <div class=\"description\">\n      <div class=\"token-status\">\n        Current OAuth Token is <span class=\"token-status-text\"> ...</span>.\n      </div>\n      <div id=\"token-text\"></div>\n    </div>\n    <div><button id=\"welcome-button\">Detail</button></div>\n    <div><button id=\"validate-button\">Validate</button></div>\n    <div><button id=\"edit-button\">Edit</button></div>\n    <div><button id=\"clear-button\">Clear</button></div>\n  </div>\n  <script nonce=\"${nonce}\">\n(function () {\n  const vscode = acquireVsCodeApi();\n\n  const updateState = (state) => {\n    const prevState = vscode.getState();\n    vscode.setState({ ...prevState, ...state });\n    updatePage();\n  };\n\n  window.addEventListener('message', ({ data }) => {\n    if (data && data.type === 'update-state') {\n      updateState(data.payload);\n    }\n  });\n  vscode.postMessage({ type: 'initialization', payload: null });\n\n  const delegate = (element, selector, eventName, handler) => {\n    if (!element) return null;\n    element.addEventListener(eventName, function (event) {\n      const children = element.querySelectorAll(selector);\n      for (let i = 0, len = children.length; i < len; i++) {\n        if (children[i] === event.target) {\n          handler.call(this, event);\n        }\n      }\n    });\n  };\n\n  delegate(document.body, '#save-button', 'click', () => {\n    const tokenInput = document.getElementById('token-input');\n    vscode.postMessage({ type: 'update-token', payload: tokenInput ? tokenInput.value : '' });\n  });\n\n  delegate(document.body, '#preview-button', 'click', () => {\n    updateState({ pageType: 'PREVIEW' });\n  });\n\n  delegate(document.body, '#validate-button', 'click', () => {\n    const state = vscode.getState();\n    vscode.postMessage({ type: 'validate-token', payload: state ? state.token : '' });\n  });\n\n  delegate(document.body, '#edit-button', 'click', () => {\n    updateState({ pageType: 'EDIT' });\n  });\n\n  delegate(document.body, '#clear-button', 'click', () => {\n    vscode.postMessage({ type: 'clear-token' });\n  });\n\n  delegate(document.body, '#welcome-button', 'click', () => {\n    vscode.postMessage({ type: 'welcome-page' });\n  });\n\n  const updatePage = () => {\n    const { token, pageType, valid, validating } = vscode.getState() || { token: '', preview: 'EDIT', valid: true, validating: true };\n    if (validating) {\n      document.querySelector('.loading-page').style.display = 'block';\n      document.querySelector('.preview-page').style.display = 'none';\n      document.querySelector('.edit-page').style.display = 'none';\n      return;\n    }\n\n    if (pageType === 'EDIT') {\n      document.querySelector('.loading-page').style.display = 'none';\n      document.querySelector('.preview-page').style.display = 'none';\n      document.querySelector('.edit-page').style.display = 'block';\n      document.querySelector('#preview-button').style.display = (token ? 'block' : 'none');\n      return;\n    }\n\n    document.querySelector('.loading-page').style.display = 'none';\n    document.querySelector('.edit-page').style.display = 'none';\n    document.querySelector('.preview-page').style.display = 'block';\n    document.querySelector('.container .token-status .token-status-text').innerText = (valid ? ' VALID' : ' INVALID');\n    document.querySelector('#token-text').innerText = token.slice(0, 7) + token.slice(7).replace(/./g, '*');\n    document.querySelector('#token-text').style.color = (valid ? '#73c991' : '#f88070');\n  };\n})();\n  </script>\n</body>\n</html>\n    `;\n  }\n}\n"],"sourceRoot":""}